{
  pkgs,
  inputs,
}:
let
  isCI = builtins.getEnv "CI" != "" || builtins.getEnv "IN_DOCKER" == "true";
in
with pkgs;
[
  inputs.agenix.packages.${stdenv.hostPlatform.system}.default
  inputs.nur.legacyPackages.${stdenv.hostPlatform.system}.repos.charmbracelet.crush
  age
  aichat
  # aider-chat  # FIXME: pyarrow 20.0.0 has malloc issues on macOS, uncomment when fixed
  amp-cli
  argocd
  ast-grep
  awscli
  azure-cli
  bat
  bun
  clipse
  cloudflared
  curl
  curlie
  cursor-cli
  delta
  difftastic
  direnv
  duf
  dust
  eza
  fastfetch
  fd
  fswatch
  fzf-make
  gh
  google-cloud-sdk
  git
  gnumake
  goose-cli
  grc
  htop
  httpie
  hyperfine
  jq
  just
  k9s
  kind
  kubeconform
  kubectl
  kubectx
  kustomize
  llama-cpp
  mariadb
  postgresql
  procs
  pulumi-bin
  qwen-code
  ripgrep
  rustup
  sccache
  sqlite
  stern
  tokei
  tree
  turso-cli
  uv
  wget
  yarn
  yazi
  yq
  zellij
  zoxide
]
++ lib.optionals stdenv.isLinux [
  atop
  below
  collectd
  docker
  docker-compose
  ffmpeg
  gemini-cli
  kubernetes-helm
  powertop
]
++ lib.optionals (stdenv.isLinux && !isCI) [
  blueberry
  chromium
  claude-code
  codex
  github-desktop
  opencode
  signal-desktop
  vlc
]
