{
  "statusLine": {
    "type": "command",
    "command": "input=$(cat); transcript=$(echo \"$input\" | jq -r '.transcript_path'); tokens=0; if [ -f \"$transcript\" ]; then tokens=$(wc -c < \"$transcript\" 2>/dev/null | awk '{printf \"%.0f\", $1/4}'); fi; context_pct=$(awk \"BEGIN {printf \\\"%.0f\\\", ($tokens/200000)*100}\"); color='\\033[32m'; if [ $context_pct -gt 70 ]; then color='\\033[33m'; fi; if [ $context_pct -gt 90 ]; then color='\\033[31m'; fi; printf '\\033[34m%s@%s\\033[0m:\\033[34m%s\\033[0m [%s] ðŸª™ %s %s%d%%\\033[0m %s' \"$(whoami)\" \"$(hostname -s)\" \"$(echo \"$input\" | jq -r '.workspace.current_dir' | sed \"s|$HOME|~|\")\" \"$(echo \"$input\" | jq -r '.model.display_name')\" \"$(if [ $tokens -gt 1000 ]; then awk \"BEGIN {printf \\\"%.1fK\\\", $tokens/1000}\"; else echo \"${tokens}\"; fi)\" \"$color\" \"$context_pct\" \"$(date '+%H:%M:%S')\""
  },
  "model": "sonnet"
}
