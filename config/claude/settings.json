{
  "statusLine": {
    "type": "command",
    "command": "input=$(timeout 5 cat 2>/dev/null || echo '{}'); transcript=$(echo \"$input\" | jq -r '.transcript_path // \"\"' 2>/dev/null); tokens=0; if [ -n \"$transcript\" ] && [ -f \"$transcript\" ]; then tokens=$(wc -c < \"$transcript\" 2>/dev/null | awk '{printf \"%.0f\", $1/4}' 2>/dev/null || echo 0); fi; context_pct=$(awk \"BEGIN {printf \\\"%.0f\\\", ($tokens/200000)*100}\" 2>/dev/null || echo 0); color='\\033[32m'; if [ $context_pct -gt 70 ]; then color='\\033[33m'; fi; if [ $context_pct -gt 90 ]; then color='\\033[31m'; fi; model=$(echo \"$input\" | jq -r '.model.display_name // \"sonnet\"' 2>/dev/null); dir=$(echo \"$input\" | jq -r '.workspace.current_dir // \"'$(pwd)'\"' 2>/dev/null | sed \"s|$HOME|~|\"); token_display=$(if [ $tokens -gt 1000 ]; then awk \"BEGIN {printf \\\"%.1fK\\\", $tokens/1000}\" 2>/dev/null || echo \"${tokens}\"; else echo \"${tokens}\"; fi); printf \"\\033[34m%s@%s\\033[0m:\\033[34m%s\\033[0m [%s] ðŸª™ %s ${color}%d%%\\033[0m %s\" \"$(whoami)\" \"$(hostname -s)\" \"$dir\" \"$model\" \"$token_display\" \"$context_pct\" \"$(date '+%H:%M:%S')\""
  },
  "model": "sonnet"
}