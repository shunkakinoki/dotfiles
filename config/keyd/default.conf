[ids]
*
# xremap creates its own virtual keyboard device via uinput. By default, xremap
# uses vendor/product 0x1234/0x5678 for that output device.
#
# When keyd matches all keyboards via `*`, it can end up grabbing xremap's
# virtual device too, which may cause event feedback/loops and effectively kill
# input. Exclude the default xremap device id to prevent that.
-1234:5678

[main]
# SUPER: CapsLock/RightAlt → Hyprland "$mod" binds (window mgmt, app launch)
# These skip xremap and go directly to Hyprland.
capslock = layer(meta)
rightalt = layer(meta)

# Hyper: Framework key → Ctrl+Alt+Shift+Super (all four modifiers)
# xremap intercepts these and remaps to Ctrl for macOS-style app shortcuts.
# leftmeta is the actual keycode on Framework 13 AI 300
leftmeta = layer(cmd_hyper)
prog1 = layer(cmd_hyper)
f13 = layer(cmd_hyper)

# Right Shift double-tap -> Caps Lock (tap twice)
rightshift = overload(shift, oneshot(rshift))

[rshift]
rightshift = capslock

[cmd_hyper:C-A-S-M]
# Every Framework+key emits Ctrl+Alt+Shift+Super+key (Hyper).
# xremap then converts Hyper+key → Ctrl+key for apps.
# Keys excluded from xremap (e.g. 3/4/5) pass through as Hyper to Hyprland.

[cmd_hyper+control]
# Framework+Ctrl+5 → terminal split in VS Code
5 = C-5
